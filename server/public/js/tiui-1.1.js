function TiuiDropdown(e){this.dd=e;this.placeholder=this.dd.find(".tiui-dropdown-label span");this.opts=this.dd.find(".tiui-dropdown > li");this.val="";this.index=-1;this.initEvents()}$(function(){$(document).click(function(){$(".tiui-dropdown-wrapper").removeClass("active")});$(document).keypress(function(e){var t=e.charCode||e.keyCode||0;if(t==32&&e.target.className!=null&&(e.target.className.indexOf("disableSpacebarScroll")!=-1||e.target.className.indexOf("imageCheck")!=-1||e.target.className.indexOf("tiui-dropdown-wrapper")!=-1||e.target.className.indexOf("tiui-btn")!=-1)){e.preventDefault()}})});TiuiDropdown.prototype={initEvents:function(){var e=this;e.dd.on("click",function(){e.openOptions();return false});e.dd.on("keypress",function(t){console.log(t.which);if(t.which==13||t.which==32){e.openOptions()}});e.opts.on("click",function(){var t=$(this);e.val=t.text();e.index=t.index();e.placeholder.text(e.val)});e.opts.on("keypress",function(t){if(t.which==13||t.which==32){t.preventDefault();var n=$(this);e.val=n.text();e.index=n.index();e.placeholder.text(e.val)}})},openOptions:function(){this.dd.toggleClass("active");this.opts.filter(":first").focus()},getValue:function(){return this.val},getIndex:function(){return this.index}}